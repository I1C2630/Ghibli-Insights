<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>Ghibli Insights</title>
    <link href="https://fonts.googleapis.com/css2?family=Zen+Antique+Soft&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary-dark: #2c3e50;
            --accent-gold: #8b4513;
            --glass-white: rgba(255, 255, 255, 0.85);
        }

        body {
            margin: 0; padding: 0;
            font-family: "Zen Antique Soft", serif;
            color: var(--primary-dark);
            background-color: #000; /* èƒŒæ™¯ã‚’é»’ã«ã™ã‚‹ã“ã¨ã§ç”»åƒã‚’å¼•ãç· ã‚ã‚‹ */
            overflow-x: hidden;
        }

        /* ã‚»ã‚¯ã‚·ãƒ§ãƒ³è¨­å®š */
        .section {
            position: relative;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden; /* ã‚ºãƒ¼ãƒ ç”¨ */
            padding: 80px 20px;
        }

        /* èƒŒæ™¯ç”»åƒãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆå‹•ãã‚’ã¤ã‘ã‚‹ãŸã‚ã«åˆ†é›¢ï¼‰ */
        .bg-img {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
            transition: transform 1.5s ease-out;
            z-index: 1;
        }

        /* ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ™‚ã®ã‚ºãƒ¼ãƒ æ¼”å‡ºç”¨ */
        .visible .bg-img {
            transform: scale(1.05);
        }

        /* ç”»åƒã‚’è¦‹ã‚„ã™ãã™ã‚‹ãŸã‚ã®æ˜ã‚‹ã‚ã®ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ */
        .overlay {
            position: absolute;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0, 0, 0, 0.2); /* ä»¥å‰ã‚ˆã‚Šè–„ãã—ã¦ç”»åƒã‚’è¦‹ã‚„ã™ã */
            z-index: 2;
        }

        /* ãƒ¢ãƒ€ãƒ³ãªã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚«ãƒ¼ãƒ‰ï¼ˆæ›‡ã‚Šã‚¬ãƒ©ã‚¹é¢¨ï¼‰ */
        .content-card {
            position: relative;
            z-index: 3;
            background: var(--glass-white);
            backdrop-filter: blur(10px); /* æ›‡ã‚Šã‚¬ãƒ©ã‚¹åŠ¹æœ */
            padding: 60px;
            max-width: 800px;
            border-radius: 12px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.3);
            opacity: 0;
            transform: translateY(50px);
            transition: all 1s cubic-bezier(0.2, 1, 0.3, 1);
        }

        .visible .content-card {
            opacity: 1;
            transform: translateY(0);
        }

        h1 { font-size: 5rem; color: #fff; text-shadow: 0 5px 20px rgba(0,0,0,0.4); z-index: 3; text-align: center; margin: 0; }
        h2 { font-size: 2.8rem; margin-bottom: 25px; border-bottom: 3px solid var(--primary-dark); padding-bottom: 10px; }
        h3 { color: var(--accent-gold); margin-top: 35px; font-size: 1.5rem; }
        p { line-height: 2.1; text-align: justify; font-size: 1.15rem; }

        /* ã‚¯ã‚¤ã‚ºã‚¨ãƒªã‚¢ */
        #quiz-section { background: #1a1a1a; color: white; padding: 120px 20px; text-align: center; position: relative; z-index: 5; }
        .quiz-box { background: white; color: #333; max-width: 700px; margin: 0 auto; padding: 40px; border-radius: 20px; display: none; box-shadow: 0 0 30px rgba(255,255,255,0.1); }
        .quiz-box.active { display: block; animation: fadeIn 0.5s ease-in-out; }
        
        .opt-btn {
            display: block; width: 100%; padding: 18px; margin: 12px 0;
            background: #fff; border: 2px solid #eee; cursor: pointer;
            font-family: inherit; font-size: 1.1rem; transition: 0.2s; border-radius: 12px;
        }
        .opt-btn:hover { border-color: var(--accent-gold); background: #fafafa; }
        
        /* æ­£èª¤è¡¨ç¤º */
        .btn-correct { background-color: #d4edda !important; border-color: #28a745 !important; color: #155724; font-weight: bold; }
        .btn-wrong { background-color: #f8d7da !important; border-color: #dc3545 !important; color: #721c24; }

        /* ãƒˆãƒƒãƒ—ã«æˆ»ã‚‹ãƒœã‚¿ãƒ³ï¼ˆä¸Šã‹ã‚‰é™ã£ã¦ãã‚‹ï¼‰ */
        #btn-top {
            position: fixed; top: -100px; right: 30px;
            width: 60px; height: 60px; background: rgba(44, 62, 80, 0.9); color: white;
            border: none; border-radius: 50%; cursor: pointer; z-index: 1000;
            font-size: 24px; transition: top 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        }
        #btn-top.show { top: 30px; }

        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <div id="hero" class="section">
        <div class="bg-img" style="background-image: url('https://www.ghibli.jp/gallery/totoro012.jpg');"></div>
        <div class="overlay"></div>
        <h1>Ghibli Insights</h1>
    </div>

    <div id="rank1" class="section">
        <div class="bg-img" style="background-image: url('https://www.ghibli.jp/gallery/mononoke036.jpg');"></div>
        <div class="overlay"></div>
        <div class="content-card">
            <h2>ï¼‘ä½ã€€ã‚‚ã®ã®ã‘å§«</h2>
            <p>æ‘ã‚’è¥²ã†ã‚¿ã‚¿ãƒªç¥ã‚’å€’ã—ã€æ­»ã®å‘ªã„ã‚’å—ã‘ãŸå°‘å¹´ã‚¢ã‚·ã‚¿ã‚«ã€‚è‡ªã‚‰ã®é‹å‘½ã‚’å¤‰ãˆã‚‹ãŸã‚è¥¿ã¸æ—…ç«‹ã¡ã€æ£®ã‚’ä¾µé£Ÿã™ã‚‹äººé–“ã¨ã€å±±çŠ¬ã®å¨˜ã‚µãƒ³ã¨ã®æˆ¦ã„ã«å·»ãè¾¼ã¾ã‚Œã¾ã™ã€‚<span style="font-weight:bold; color:var(--accent-gold);">ã€Œç”Ÿãã‚ã€‚ã€</span>ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã¯ã€æ··è¿·ã®æ™‚ä»£ã¸ã®åŠ›å¼·ã„å«ã³ã§ã™ã€‚</p>
        </div>
    </div>

    <div id="rank2" class="section">
        <div class="bg-img" style="background-image: url('https://www.ghibli.jp/gallery/chihiro043.jpg');"></div>
        <div class="overlay"></div>
        <div class="content-card">
            <h2>ï¼’ä½ã€€åƒã¨åƒå°‹ã®ç¥éš ã—</h2>
            <p>ä¸æ€è­°ãªä¸–ç•Œã§åå‰ã‚’å¥ªã‚ã‚Œã€Œåƒã€ã¨ãªã£ãŸå°‘å¥³ã€‚æ²¹å±‹ã§ã®åŠ´åƒã‚’é€šã˜ã€å¿˜ã‚Œã‹ã‘ã¦ã„ãŸè‡ªåˆ†è‡ªèº«ã‚’å–ã‚Šæˆ»ã—ã¦ã„ãæˆé•·ã®ç‰©èªã§ã™ã€‚æ—¥æœ¬ã®å…«ç™¾ä¸‡ã®ç¥ã€…ãŒå½©ã‚‹åœ§å·»ã®æ˜ åƒç¾ãŒã€è¦³ã‚‹è€…ã‚’åˆ¥ä¸–ç•Œã¸ã¨èª˜ã„ã¾ã™ã€‚</p>
        </div>
    </div>

    <div id="rank3" class="section">
        <div class="bg-img" style="background-image: url('https://www.ghibli.jp/gallery/laputa048.jpg');"></div>
        <div class="overlay"></div>
        <div class="content-card">
            <h2>ï¼“ä½ã€€å¤©ç©ºã®åŸãƒ©ãƒ”ãƒ¥ã‚¿</h2>
            <p>ç©ºã‹ã‚‰é™ã£ã¦ããŸå°‘å¥³ã‚·ãƒ¼ã‚¿ã¨ã€è¦‹ç¿’ã„æ©Ÿæ¢°å·¥ã®å°‘å¹´ãƒ‘ã‚ºãƒ¼ã€‚äºŒäººã¯é£›è¡ŒçŸ³ã‚’å·¡ã‚‹äº‰ã„ã«å·»ãè¾¼ã¾ã‚Œã€ä¼èª¬ã®æµ®éŠå³¶ãƒ©ãƒ”ãƒ¥ã‚¿ã¸ã¨å‘ã‹ã„ã¾ã™ã€‚åœ§å€’çš„ãªå†’é™ºæ´»åŠ‡ã®ä¸­ã«ã€<span style="font-weight:bold; color:var(--accent-gold);">ã€Œäººé–“ã¯åœŸã‚’é›¢ã‚Œã¦ã¯ç”Ÿãã‚‰ã‚Œãªã„ã€</span>ã¨ã„ã†æ·±ã„è­¦é˜ãŒè¾¼ã‚ã‚‰ã‚Œã¦ã„ã¾ã™ã€‚</p>
        </div>
    </div>

    <div id="quiz-section">
        <h2>ğŸ¬ ã‚¯ã‚¤ã‚ºã§ç´è§£ãã‚¸ãƒ–ãƒªã®ä¸–ç•Œ</h2>
        <div id="quiz-container"></div>
        <div id="quiz-final" style="display:none; font-size: 2.5rem; margin-top: 30px;"></div>
    </div>

    <button id="btn-top" onclick="window.scrollTo({top:0, behavior:'smooth'})">â–²</button>

    <script>
        // ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ¤œçŸ¥
        const obs = new IntersectionObserver((entries) => {
            entries.forEach(e => { if(e.isIntersecting) e.target.classList.add('visible'); });
        }, { threshold: 0.3 });
        document.querySelectorAll('.section').forEach(s => obs.observe(s));

        window.addEventListener('scroll', () => {
            const btn = document.getElementById('btn-top');
            (window.scrollY > 800) ? btn.classList.add('show') : btn.classList.remove('show');
        });

        // ã‚¯ã‚¤ã‚ºãƒ‡ãƒ¼ã‚¿
        const quizData = [
            { q: "ã€ã‚‚ã®ã®ã‘å§«ã€ã§ã‚¢ã‚·ã‚¿ã‚«ãŒã€ã‚¿ã‚¿ãƒªç¥ã‚’å€’ã—ã¦å—ã‘ãŸã®ã¯ï¼Ÿ", a: ["è¤’ç¾", "å‘ªã„", "è´ˆã‚Šç‰©", "é­”æ³•"], c: 1 },
            { q: "åƒã¨åƒå°‹ã§ã€åƒå°‹ãŒåƒãæ¹¯å±‹ã®åå‰ã¯ï¼Ÿ", a: ["éŠ­æ¹¯å±‹", "å…«ç™¾ä¸‡å±‹", "æ²¹å±‹", "ç¥éš ã—å±‹"], c: 2 },
            { q: "ãƒ©ãƒ”ãƒ¥ã‚¿ã§ã€ã‚·ãƒ¼ã‚¿ãŒæŒã£ã¦ã„ã‚‹å…‰ã‚‹çŸ³ã®åå‰ã¯ï¼Ÿ", a: ["é­”æ³•çŸ³", "é£›è¡ŒçŸ³", "æµ®éŠçŸ³", "ãƒ©ãƒ”ãƒ¥ã‚¿çŸ³"], c: 1 },
            { q: "ã€ã‚‚ã®ã®ã‘å§«ã€ã®åˆ¶ä½œã«ã‹ã‹ã£ãŸä½œç”»æšæ•°ã¯ç´„ä½•ä¸‡æšï¼Ÿ", a: ["5ä¸‡æš", "10ä¸‡æš", "14ä¸‡æš", "20ä¸‡æš"], c: 2 },
            { q: "ã€åƒã¨åƒå°‹ã€ã§ã€è‡ªåˆ†ã®åå‰ã‚’å¿˜ã‚Œãªã„ã‚ˆã†åƒå°‹ã«åŠ©è¨€ã—ãŸã®ã¯ï¼Ÿ", a: ["ãƒã‚¯", "é‡œçˆº", "åŠ", "ã‚«ã‚ªãƒŠã‚·"], c: 0 },
            { q: "ãƒ©ãƒ”ãƒ¥ã‚¿ã§ã€ãƒ‘ã‚ºãƒ¼ã¨ã‚·ãƒ¼ã‚¿ãŒé€ƒã’ã‚‹æ™‚ã«å”åŠ›ã—ãŸç©ºè³Šã®åå‰ã¯ï¼Ÿ", a: ["ãƒ ã‚¹ã‚«", "ãƒãƒ«ã‚³", "ãƒ‰ãƒ¼ãƒ©", "ãƒ•ã‚£ã‚ª"], c: 2 },
            { q: "ãƒ©ãƒ”ãƒ¥ã‚¿ã‚’å´©å£Šã•ã›ã‚‹ã€æ»…ã³ã®å‘ªæ–‡ã¯ä½•ï¼Ÿ", a: ["ãƒ«ã‚·ãƒ¼ã‚¿", "ãƒ‘ãƒ«ãƒ—ãƒ³ãƒ†", "ãƒãƒ«ã‚¹", "ãƒ†ãƒˆ"], c: 2 },
            { q: "åƒã¨åƒå°‹ã®ãƒ¢ãƒ‡ãƒ«ã®ä¸€éƒ¨ã¨ã•ã‚Œã‚‹å»ºç‰©ãŒã‚ã‚‹å ´æ‰€ã¯ï¼Ÿ", a: ["æ±Ÿæˆ¸æ±äº¬ãŸã¦ã‚‚ã®åœ’", "é»„é‡‘ã®å›½", "æ¥µæ¥½æµ„åœŸ", "ç¥ã®ç¤¾"], c: 0 },
            { q: "ã€ãƒ©ãƒ”ãƒ¥ã‚¿ã€ã®ç‚­é‰±ç”ºã®ãƒ¢ãƒ‡ãƒ«ã¨ãªã£ãŸå›½ã¯ã©ã“ï¼Ÿ", a: ["ã‚¤ã‚®ãƒªã‚¹", "ã‚¤ã‚¿ãƒªã‚¢", "ãƒ•ãƒ©ãƒ³ã‚¹", "ãƒ‰ã‚¤ãƒ„"], c: 0 },
            { q: "å®®å´é§¿ç›£ç£ãŒã€Œã‚‚ã®ã®ã‘å§«ã€ã§ä¼ãˆãŸã‹ã£ãŸè¨€è‘‰ã¯ï¼Ÿ", a: ["åƒã‘ã€‚", "éŠã¹ã€‚", "ç”Ÿãã‚ã€‚", "æˆ¦ãˆã€‚"], c: 2 }
        ];

        let cur = 0, score = 0;
        function renderQuiz() {
            const container = document.getElementById('quiz-container');
            container.innerHTML = "";
            if(cur < quizData.length) {
                const data = quizData[cur];
                const box = document.createElement('div');
                box.className = "quiz-box active";
                let btns = data.a.map((opt, i) => `<button class="opt-btn" id="q-${i}" onclick="ans(this, ${i})">${opt}</button>`).join('');
                box.innerHTML = `<p>ç¬¬ ${cur+1} å•</p><p style="font-size:1.4rem; font-weight:bold;">${data.q}</p>${btns}`;
                container.appendChild(box);
            } else {
                const fin = document.getElementById('quiz-final');
                fin.style.display = "block";
                fin.innerHTML = `COMPLETE!<br>Score: ${score} / 10`;
            }
        }

        function ans(btn, idx) {
            const correctIdx = quizData[cur].c;
            const allBtns = document.querySelectorAll('.opt-btn');
            allBtns.forEach(b => b.disabled = true);

            if(idx === correctIdx) {
                btn.classList.add('btn-correct');
                btn.innerHTML += " â­•";
                score++;
            } else {
                btn.classList.add('btn-wrong');
                btn.innerHTML += " âŒ";
                document.getElementById(`q-${correctIdx}`).classList.add('btn-correct');
                document.getElementById(`q-${correctIdx}`).innerHTML += " â­•";
            }

            // 1ç§’å¾…æ©Ÿã—ã¦æ¬¡ã¸
            setTimeout(() => {
                cur++;
                renderQuiz();
            }, 1000);
        }
        renderQuiz();
    </script>
</body>
</html>
